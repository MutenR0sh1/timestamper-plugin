= Changelog

* All notable changes prior to 1.10 are documented in this changelog.
* Release notes for versions >=1.10 can be found on the https://github.com/jenkinsci/timestamper-plugin/releases[GitHub release page].

=== Release History

==== 1.10 and newer

See the https://github.com/jenkinsci/timestamper-plugin/releases[GitHub release page].

==== 1.9 (2019-02-07)

* Redesign of integration with Pipeline: timestamps are now written in plain text into the build log, and displayed specially if and when viewed in the classic UI. Also the `timestamps` step/option may be omitted in favor of a global option. Solves https://issues.jenkins.io/browse/JENKINS-48344[JENKINS-48344] - Log files generated by Jenkins pipeline scripts are bloated, https://issues.jenkins.io/browse/JENKINS-54081[JENKINS-54081] - Timestamps missing for agent-based steps in Pipeline Job 2.26, and (for pre-2.161 Jenkins versions) https://issues.jenkins.io/browse/JENKINS-55257[JENKINS-55257] - Timestamper break builds on Windows agents.

==== 1.8.10 (May 9, 2018)

* Add a forward slash to the URLs opened when clicking *View as plain text*. For some web servers, this is necessary to open the correct page. (https://issues.jenkins.io/browse/JENKINS-50713[JENKINS-50713])
* Hide the *View as plain text* link when viewing a pipeline step because it isn't applicable to this page. (https://issues.jenkins.io/browse/JENKINS-47051[JENKINS-47051])
* Fix the display of timestamps at the `/timestamps/` URL for pipeline builds when not using the `appendLog` flag. (https://issues.jenkins.io/browse/JENKINS-51106[JENKINS-51106])
* Use the browser's time zone by default. This only takes affect for new users or after clearing the cookies. (https://github.com/jenkinsci/timestamper-plugin/pull/22[pull request #22]) +
Contributed by Wilfred Hughes

==== 1.8.9 (Dec 17, 2017)

* Remove extra lines from `/timestamps/` URL output when log file contains carriage return characters. (https://issues.jenkins.io/browse/JENKINS-46420[JENKINS-46420]) (https://github.com/jenkinsci/timestamper-plugin/pull/21[pull request #21]) +
Contributed by Darragh Bailey

==== 1.8.8 (Jan 22, 2017)

* Improve performance when generating logs for a pipeline build. (https://issues.jenkins.io/browse/JENKINS-40762[JENKINS-40762]) (https://github.com/jenkinsci/timestamper-plugin/pull/20[pull request #20]) +
Contributed by Edwin Flores
* Can now retrieve the current time from the `/timestamps/` URL. (https://issues.jenkins.io/browse/JENKINS-21687[JENKINS-21687])

==== 1.8.7 (Oct 05, 2016)

* Reverted changes made under https://issues.jenkins.io/browse/JENKINS-34019[JENKINS-34019] because they clash with custom Jenkins themes. (https://issues.jenkins.io/browse/JENKINS-38390[JENKINS-38390])

==== 1.8.6 (Sep 19, 2016)

* The timestamps are no longer affected by styles applied by the AnsiColor plugin. (https://issues.jenkins.io/browse/JENKINS-34019[JENKINS-34019]) (reverted in next release 1.8.7)
* Console page settings were not appearing for some users. (https://issues.jenkins.io/browse/JENKINS-38085[JENKINS-38085])
* Prevent unnecessary warning messages from being logged with Timestamper 1.8.5 installed. (https://issues.jenkins.io/browse/JENKINS-38098[JENKINS-38098])

==== 1.8.5 (Aug 31, 2016)

* Performance: Read from end of log file for finished build (https://github.com/jenkinsci/timestamper-plugin/pull/18[pull request #18]) +
Contributed by Akbashev Alexander
* Improve error reporting when invalid parameters are passed to the `/timestamps` URL.
* Requires Java 7 or later.

==== 1.8.4 (Jun 26, 2016)

* When reading the log file, handle escape characters that do not form part of a console note. (https://issues.jenkins.io/browse/JENKINS-36103[JENKINS-36103])

==== 1.8.3 (Jun 12, 2016)

* Allow running behind an HTTPS proxy. (https://issues.jenkins.io/browse/JENKINS-35315[JENKINS-35315])
* Prevent warning messages when workflow-step-api is not installed. (https://issues.jenkins.io/browse/JENKINS-35375[JENKINS-35375])

==== 1.8.2 (May 15, 2016)

* Make the workflow-step-api dependency optional.

==== 1.8.1 (May 15, 2016)

* Custom link:[pipeline step] for recording timestamps. (https://issues.jenkins.io/browse/JENKINS-30142[JENKINS-30142])
* Display a link to the raw console output including timestamps. (https://issues.jenkins.io/browse/JENKINS-26794[JENKINS-26794])
* New query parameters recognised by the `/timestamps/` URL: time, elapsed, appendLog, startLine, endLine, timeZone, locale.
* Java API for retrieving timestamps from other plugins. (https://issues.jenkins.io/browse/JENKINS-21213[JENKINS-21213])
* The elapsed time is measured from the actual build start time, rather than the scheduled start time.

==== 1.8 (May 15, 2016)

==== 1.7.4 (Jan 31, 2016)

* Display timestamps for individual https://wiki.jenkins-ci.org/display/JENKINS/Pipeline+Plugin[pipeline build] steps. (https://issues.jenkins.io/browse/JENKINS-30143[JENKINS-30143])

==== 1.7.3 (Jan 13, 2016)

* Persist the chosen timestamp display settings. This was broken since 1.7.2. (https://issues.jenkins.io/browse/JENKINS-32074[JENKINS-32074])

==== 1.7.2 (Aug 15, 2015)

* Change cookie path from `/` to the root URL of Jenkins (https://issues.jenkins.io/browse/JENKINS-29899[JENKINS-29899]) +
Contributed by Kiyoshi Ohgishi

==== 1.7.1 (Jul 11, 2015)

* Display the console page settings within the side panel with the other actions. (https://issues.jenkins.io/browse/JENKINS-28948[JENKINS-28948])
* Support for newer Jenkins to display the settings in the console page. (https://issues.jenkins.io/browse/JENKINS-29361[JENKINS-29361])

==== 1.7 (Jun 24, 2015)

* Timestamps now appear during https://wiki.jenkins-ci.org/display/JENKINS/Pipeline+Plugin[pipeline builds]. (https://github.com/jenkinsci/timestamper-plugin/pull/13[pull request #13]) +
Contributed by Jesse Glick
* Requires Jenkins 1.608.

==== 1.6.2 (May 31, 2015)

* Retain the selection to use the browser's time zone when not using system time. (https://github.com/jenkinsci/timestamper-plugin/pull/14[pull request #14]) (https://github.com/jenkinsci/timestamper-plugin/pull/15[pull request #15]) +
Contributed by Sebastian Schuberth

==== 1.6.1 (May 27, 2015)

==== 1.6 (Mar 11, 2015)

* Add an option to use the browser's time zone. (https://github.com/jenkinsci/timestamper-plugin/pull/11[pull request #11]) +
Contributed by michael1010
* Japanese translations. (https://github.com/jenkinsci/timestamper-plugin/pull/12[pull request #12]) +
Contributed by Pei-Tang Huang

==== 1.5.16 (Feb 25, 2015)

* Allow clicking on the text labels next to the radio buttons. (https://issues.jenkins.io/browse/JENKINS-27054[JENKINS-27054]) +
Contributed by Paul Fee

==== 1.5.15 (Dec 24, 2014)

* Fix encoding problem with the German translation of the plugin description. (https://issues.jenkins.io/browse/JENKINS-26206[JENKINS-26206])

==== 1.5.14 (Jul 30, 2014)

* Reduce size of the X-ConsoleAnnotator HTTP header. (https://issues.jenkins.io/browse/JENKINS-23867[JENKINS-23867]) +
The header size may have caused problems depending on how your web container is configured.

==== 1.5.13 (Jul 23, 2014)

* Fix incompatibility with Jenkins 1.572 or later. (https://issues.jenkins.io/browse/JENKINS-23867[JENKINS-23867]) (https://issues.jenkins.io/browse/JENKINS-23943[JENKINS-23943]) (https://github.com/jenkinsci/timestamper-plugin/pull/9[pull request #9]) +
Contributed by Geoff Cummings

==== 1.5.12 (Jun 07, 2014)

* Allow the time zone for the timestamps to be configured. (https://issues.jenkins.io/browse/JENKINS-22586[JENKINS-22586])

==== 1.5.11 (Apr 09, 2014)

* Further German translations. (https://github.com/jenkinsci/timestamper-plugin/pull/8[pull request #8]) +
Contributed by phoenix384

==== 1.5.10 (Apr 09, 2014)

==== 1.5.9 (Mar 10, 2014)

* German translations. (https://github.com/jenkinsci/timestamper-plugin/pull/6[pull request #6]) (https://github.com/jenkinsci/timestamper-plugin/pull/7[pull request #7]) +
Contributed by phoenix384
* Declare the licence in the POM file. (https://github.com/jenkinsci/timestamper-plugin/pull/5[pull request #5]) +
Contributed by Tom Van Eyck

==== 1.5.8 (Jan 02, 2014)

* Implemented a work-around for servers that do not reliably report the elapsed time. (https://issues.jenkins.io/browse/JENKINS-19778[JENKINS-19778])
* Support for gzipped build logs.
* Requires Java 6 or later.
* Requires Jenkins 1.520.

==== 1.5.7 (Aug 21, 2013)

* Fix minor incompatibility with Publish Over SSH Plugin. (https://issues.jenkins.io/browse/JENKINS-19193[JENKINS-19193])

==== 1.5.6 (Jul 25, 2013)

* Update the DurationFormatUtils URL in the help messages. (https://github.com/jenkinsci/timestamper-plugin/pull/4[pull request #4]) +
Contributed by Bananeweizen

==== 1.5.5 (Jul 24, 2013)

* Display timestamps correctly when viewing the truncated console log. (https://issues.jenkins.io/browse/JENKINS-17779[JENKINS-17779]) +
Contributed by Kohsuke Kawaguchi

==== 1.5.4 (Jun 04, 2013)

* Prevent another NPE being thrown when the agent is taken offline during a build. (https://issues.jenkins.io/browse/JENKINS-16778[JENKINS-16778]) (https://github.com/jenkinsci/timestamper-plugin/pull/3[pull request #3]) +
Contributed by jdewinne

==== 1.5.3 (Mar 17, 2013)

* Traditional Chinese translations. (https://github.com/jenkinsci/timestamper-plugin/pull/2[pull request #2]) +
Contributed by Pei-Tang Huang
* Workaround a bug in Jenkins which causes a VM crash. (https://issues.jenkins.io/browse/JENKINS-16528[JENKINS-16528])
* Prevent an NPE being thrown when the agent is taken offline during a build. (https://issues.jenkins.io/browse/JENKINS-16778[JENKINS-16778])

==== 1.5.2 (Feb 03, 2013)

* Support for Internet Explorer 8. (https://issues.jenkins.io/browse/JENKINS-16598[JENKINS-16598])

==== 1.5.1 (Jan 22, 2013)

* Prevent NPE when the servlet mapping is `/`. (https://issues.jenkins.io/browse/JENKINS-16438[JENKINS-16438])

==== 1.5 (Jan 05, 2013)

* Can choose to display either the system clock time, the elapsed time since the build started, or no timestamps at all. (https://issues.jenkins.io/browse/JENKINS-14931[JENKINS-14931])
* The elapsed time format can be configured.

==== 1.4 (Dec 27, 2012)

* The timestamp data now requires less disk space and does not clutter the build log file. (https://issues.jenkins.io/browse/JENKINS-14932[JENKINS-14932])

[CAUTION]
====
If you use a script to read the timestamp data directly from the build log file, you will need to either:

* Modify the script to read from the `/timestamps` URL instead (recommended)
* Provide the `-Dtimestamper-consolenotes=true` VM argument when starting Jenkins to use the old format.
====

==== 1.3.2 (Sep 30, 2012)

* Scripts can read timestamps from the `/timestamps` URL of each build.
* Requires Jenkins 1.461.

==== 1.3.1 (Sep 08, 2012)

* Can configure an empty timestamp format.

==== 1.3 (Aug 26, 2012)

* The timestamp format is configurable. (https://github.com/jenkinsci/timestamper-plugin/pull/1[pull request #1]) +
Contributed by Frederik Fromm
* Requires Jenkins 1.450.

==== 1.2.2 (Feb 07, 2011)

* Built from GitHub repository with new Jenkins infrastructure. No behavioural changes.

==== 1.2.1 (Sep 07, 2010)

* Timestamps no longer interfere with the Ant target highlighting.

==== 1.2 (Aug 29, 2010)

* More robust implementation; prevents errors that could arise for some build configurations. (https://issues.jenkins.io/browse/JENKINS-7112[JENKINS-7112])
* Requires Jenkins 1.374.

==== 1.1 (Aug 01, 2010)

* Fix incompatibility with Mercurial Plugin. (https://issues.jenkins.io/browse/JENKINS-7111[JENKINS-7111])

==== 1.0 (Jul 31, 2010)

* Initial release.
* Requires Jenkins 1.349.
